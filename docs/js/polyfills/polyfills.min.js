!function(){var e=window.RegExp,t=/([a-zA-Z_$][a-zA-Z_$0-9]{0,50})/,r=new e("\\$<"+t.source+">","g"),n=new e("^[?:]&"+t.source),o=new e("^[?:]<"+t.source+">([^]*)"),s=/([\\]?[()])/g,u=/([^\\]|^)\(\)/g;var a=function(t,r){if(!(this instanceof a))return new a(t,r);var i=function(t,r){var a;t instanceof e?(void 0===r&&(r=t.flags),a=t.source):a=String(t);var i={groups:{},named:{},flags:void 0===r?"":String(r),source:"",originalSource:a},p={count:0,groups:[""],names:[]},c=0,g=a.split(s);return i.source=g.map((function(e,t){var r,s;switch(e){case"(":p.groups.push(""),p.names.push("");break;case")":s=p.groups.pop(),(r=p.names.pop())&&(i.named[r]=s.substr(1));break;default:"("===g[t-1]&&!/^\?[:!=]/.test(e)&&(c++,(r=o.exec(e))&&r[1]?(i.groups[r[1]]?i.groups[p.count++]=c:(p.names[p.names.length-1]=r[1],i.groups[r[1]]=c),e=r[2]||"",")"!==g[t+1]||r[2]||(e="[^]+")):i.groups[p.count++]=c,(r=n.exec(e))&&r[1]&&(e=i.named[r[1]]||""))}return p.groups=p.groups.map((function(t){return t+e})),e})).join("").replace(u,"$1"),i}(t,r),p=new e(i.source,i.flags);Object.defineProperty(this,"_regexp",{value:p}),Object.defineProperty(this,"_data",{value:i})};a.toString=function(){return"function RegExp() { [polyfilled code] }"},a.prototype={},Object.defineProperty(a.prototype,"lastIndex",{enumerable:!0,get:function(){return this._regexp.lastIndex},set:function(e){this._regexp.lastIndex=e}}),Object.defineProperty(a.prototype,"flags",{enumerable:!0,get:function(){return this._data.flags}}),Object.defineProperty(a.prototype,"source",{enumerable:!0,get:function(){return this._data.originalSource}}),a.prototype.toString=function(){return"/"+this.source+"/"+this.flags},a.prototype.exec=function(e){var t=this._regexp.exec(e);if(t){t.groups={};var r=this._data.groups;Object.keys(r).forEach((function(e){t.groups[e]=t[r[e]]}))}return t},a.prototype.test=function(e){return this._regexp.test(e)},a.prototype.constructor=e,window.RegExp=a;var i=String.prototype.replace;String.prototype.replace=function(e,t){if(e instanceof a){var n;switch(typeof t){case"string":n=i.call(t,r,(function(t,r){return r in e._data.groups?"$"+e._data.groups[r]:""}));break;case"function":n=t.bind(e);break;default:return String(t)}return i.call(this,e._regexp,n)}return i.call(this,e,t)}}();